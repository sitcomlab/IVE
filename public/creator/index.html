<!DOCTYPE html>
<html lang="en" ng-app="ive">
    <head>
        <base href="/creator/index.html"/>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="IVE">
        <meta name="author" content="Nicholas Schiestel">

        <!-- Title -->
        <title ng-bind="config.appSubnames.creator">IVE</title>

        <!-- Favicons -->
        <link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="../favicons/manifest.json">
        <link rel="mask-icon" href="../favicons/safari-pinned-tab.svg" color="#007fff">
        <link rel="shortcut icon" href="../favicons/favicon.ico">
        <meta name="apple-mobile-web-app-title" content="IVE">
        <meta name="application-name" content="IVE">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="../favicons/mstile-144x144.png">
        <meta name="msapplication-config" content="../favicons/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

        <!-- Bootstrap -->
        <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <!-- only for alpha version -->
        <link href="../bower_components/tether/dist/css/tether.min.css" rel="stylesheet" type="text/css"/>
        <script src="../bower_components/tether/dist/js/tether.min.js"></script>

        <!-- Font-Awesome -->
        <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>

        <!-- Custom styles -->
        <link href="css/styles.css" rel="stylesheet" type="text/css"/>

        <!-- Dependecies -->
        <script src="../bower_components/socket.io-client/dist/socket.io.js"></script>
        <script src="../bower_components/jquery/dist/jquery.min.js"></script>
        <script src="../bower_components/underscore/underscore.js"></script>
        <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="../bower_components/moment/min/moment.min.js"></script>
        <script src="../bower_components/angular/angular.min.js"></script>
        <script src="../bower_components/angular-route/angular-route.min.js"></script>
        <script src="../bower_components/angular-sanitize/angular-sanitize.min.js"></script>
        <script src="../bower_components/angular-translate/angular-translate.min.js"></script>
        <script src="../bower_components/angular-socket-io/socket.min.js"></script>
        <script src="../bower_components/angular-underscore-module/angular-underscore-module.js"></script>
        <script src="../bower_components/angular-momentjs/angular-momentjs.js"></script>
        <script src="../bower_components/ng-file-upload/ng-file-upload.min.js"></script>
        <script src="../bower_components/clipboard/dist/clipboard.min.js"></script>
        <script src="../bower_components/ngclipboard/dist/ngclipboard.min.js"></script>
        <script src="../bower_components/videogular/videogular.js"></script>
        <script src="../bower_components/videogular-controls/vg-controls.js"></script>

        <!-- Three.js -->
        <script src="../bower_components/three.js/build/three.min.js"></script>
        <script src="../bower_components/three.js/examples/js/controls/TransformControls.js"></script>
        <script src="../bower_components/three.js/examples/js/renderers/CSS3DRenderer.js"></script>
        <script src="../bower_components/three.js/examples/js/WebGL.js"></script>
        <script src="../bower_components/three.js/examples/js/loaders/OBJLoader.js"></script>

        <!-- Mapbox GL -->
        <link href="../bower_components/mapbox-gl-js/mapbox-gl.css" rel="stylesheet" type="text/css"/>
        <script src="../bower_components/mapbox-gl-js/mapbox-gl.js"></script>
        <link href="../bower_components/mapbox-gl-geocoder/build/v2.1.0/mapbox-gl-geocoder.css" type="text/css"/>
        <script src="../bower_components/mapbox-gl-geocoder/build/v2.1.0/mapbox-gl-geocoder.js"></script>

    </head>
    <body>


        <!-- Main -->
        <main ng-controller="mainController" class="ng-cloak">

            <!-- Header -->
            <header>
                <nav class="navbar navbar-toggleable-md bg-inverse navbar-inverse static-top">
                    <div class="container">
                        <button class="navbar-toggler navbar-toggler-right" data-toggle="collapse" data-target="#navbarContent">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <a class="navbar-brand" href="/">
                            <img src="images/logo.svg" height="30"> {{config.appSubnames.creator}}
                        </a>
                        <div class="collapse navbar-collapse" id="navbarContent">
                            <ul class="navbar-nav mr-auto">
                                <li class="nav-item">
                                    <a href="" class="nav-link" ng-class="{ 'active': isActive('/map') }" ng-click="redirect('/map')" ng-if="authenticated_user && !loading.status">
                                        {{ '_MAP' | translate }}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="" class="nav-link" ng-class="{ 'active': isActive('/scenarios') }" ng-click="redirect('/scenarios')" ng-if="authenticated_user && !loading.status">
                                        {{ '_SCENARIOS' | translate }}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="" class="nav-link" ng-class="{ 'active': isActive('/locations') }" ng-click="redirect('/locations')" ng-if="authenticated_user && !loading.status">
                                        {{ '_LOCATIONS' | translate }}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="" class="nav-link" ng-class="{ 'active': isActive('/videos') }" ng-click="redirect('/videos')" ng-if="authenticated_user && !loading.status">
                                        {{ '_VIDEOS' | translate }}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="" class="nav-link" ng-class="{ 'active': isActive('/overlays') }" ng-click="redirect('/overlays')" ng-if="authenticated_user && !loading.status">
                                        {{ '_OVERLAYS' | translate }}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="" class="nav-link" ng-class="{ 'active': isActive('/relationships') }" ng-click="redirect('/relationships')" ng-if="authenticated_user && !loading.status">
                                        {{ '_RELATIONSHIPS' | translate }}
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="https://sitcomlab.github.io/IVE/creator/" class="nav-link">
                                        {{ 'HELP' | translate }}
                                    </a>
                                </li>
                            </ul>
                            <ul class="navbar-nav nav-pills">

                                <li class="nav-item dropdown" ng-if="authenticated_user && !loading.status">
                                    <a class="nav-link active user-pill dropdown-toggle" href="" id="user_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="cursor: pointer; background-color:#FFFFFF; border: 1px solid #CCCCCC; color: #292b2c;" ng-if="!loading.status">
                                        <i class="fa fa-user-circle-o" aria-hidden="true"></i>&nbsp;&nbsp;{{authenticated_user.username}}
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="user_dropdown">
                                        <a class="dropdown-item" href="" ng-click="logout()">
                                            <i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;&nbsp;{{ 'LOGOUT' | translate }}
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </header>

            <!-- Content -->
            <div ng-class="{ 'content container': isNotMapRoute() }">

                <!-- Loading screen -->
                <div class="loading middle" ng-show="loading.status">
                    <br>
                    <br>
                    <i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i><br>
                    <span class="text-muted" style="font-size:8pt;">
                        {{loading.message}}
                    </span>
                    <br>
                    <br>
                </div>

                <!-- Main view -->
                <div class="view" ng-view ng-show="!loading.status"></div>
            </div>

            <!-- Login Modal -->
            <div class="loginmodal" ng-if="loggingIn">
                <ng-include src="'templates/login.html'"></ng-include>
            </div>

            <!-- Footer -->
            <footer class="bg-inverse middle">
                <small class="text-muted">
                    &copy; {{config.appYear}}
                    <a href="https://www.uni-muenster.de/Geoinformatics/en/index.html" target="_blank">Institute for Geoinformatics</a>
                    &nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="/" target="_self" class="link">
                        <i class="fa fa-home" aria-hidden="true"></i>
                    </a>
                    &nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="{{config.appGithub}}" target="_blank" class="link">
                        <i class="fa fa-github" aria-hidden="true"></i>
                    </a>
                    &nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="#">
                        Bug Report
                    </a>
                </small>
            </footer>

        </main>


        <!-- TRANSLATIONS -->
        <script src="../translations/en_US.js"></script>
        <script src="../translations/de_DE.js"></script>

        <!-- CONFIG -->
        <script src="../config.js"></script>

        <!-- ROUTES -->
        <script src="js/routes.js"></script>

        <!-- MODULES -->
        <script src="js/modules/tjsModelViewer.js"></script>
        <script src="js/modules/sockets.js"></script>

        <!-- SERVICES -->
        <script src="js/services/authenticationService.js"></script>
        <script src="js/services/scenarioService.js"></script>
        <script src="js/services/locationService.js"></script>
        <script src="js/services/videoService.js"></script>
        <script src="js/services/overlayService.js"></script>
        <script src="js/services/relationshipService.js"></script>

        <!-- APPLICATION -->
        <script src="js/app.js"></script>

        <!-- FILTERS -->
        <script src="js/filters/timestamp.js"></script>
        <script src="js/filters/uppercase.js"></script>
        <script src="js/filters/lowercase.js"></script>
        <script src="js/filters/thumbnail.js"></script>
        <script src="js/filters/previewVideo.js"></script>
        <script src="js/filters/previewMapRequest.js"></script>
        <script src="js/filters/findLocationById.js"></script>
        <script src="js/filters/toGeoJSON.js"></script>

        <!-- CONTROLLERS -->
        <script src="js/controllers/mainController.js"></script>
        <script src="js/controllers/mapController.js"></script>

        <!-- Scenario -->
        <script src="js/controllers/scenario/listController.js"></script>
        <script src="js/controllers/scenario/detailsController.js"></script>
        <script src="js/controllers/scenario/editController.js"></script>
        <script src="js/controllers/scenario/deleteController.js"></script>
        <script src="js/controllers/scenario/createController.js"></script>

        <!-- Location -->
        <script src="js/controllers/location/listController.js"></script>
        <script src="js/controllers/location/detailsController.js"></script>
        <script src="js/controllers/location/editController.js"></script>
        <script src="js/controllers/location/deleteController.js"></script>
        <script src="js/controllers/location/createController.js"></script>

        <!-- Video -->
        <script src="js/controllers/video/listController.js"></script>
        <script src="js/controllers/video/detailsController.js"></script>
        <script src="js/controllers/video/editController.js"></script>
        <script src="js/controllers/video/deleteController.js"></script>
        <script src="js/controllers/video/createController.js"></script>

        <!-- Overlay -->
        <script src="js/controllers/overlay/listController.js"></script>
        <script src="js/controllers/overlay/detailsController.js"></script>
        <script src="js/controllers/overlay/editController.js"></script>
        <script src="js/controllers/overlay/deleteController.js"></script>
        <script src="js/controllers/overlay/createController.js"></script>

        <!-- Relationship -->
        <script src="js/controllers/relationship/selectController.js"></script>
        <script src="js/controllers/relationship/listController.js"></script>
        <script src="js/controllers/relationship/detailsController.js"></script>
        <script src="js/controllers/relationship/edit/embeddedInController.js"></script>
        <script src="js/controllers/relationship/edit/embeddedInPreviewController.js"></script>
        <script src="js/controllers/relationship/edit/recordedAtController.js"></script>
        <script src="js/controllers/relationship/deleteController.js"></script>
        <script src="js/controllers/relationship/createController.js"></script>
        <script src="js/controllers/relationship/create/belongsToController.js"></script>
        <script src="js/controllers/relationship/create/connectedToController.js"></script>
        <script src="js/controllers/relationship/create/embeddedInController.js"></script>
        <script src="js/controllers/relationship/create/hasParentLocationController.js"></script>
        <script src="js/controllers/relationship/create/recordedAtController.js"></script>

    </body>
</html>
